FROM node:22-alpine3.21

WORKDIR /app

# Copy package files
COPY package.json ./

# Install dependencies
RUN npm install

# Copy the processor script
COPY payrollProcessor.js ./

# The TEE transformation expects this structure
RUN mkdir -p /iexec_out

ENTRYPOINT ["node", "payrollProcessor.js"]